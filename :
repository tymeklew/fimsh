import { BrowserRouter, Route, Routes } from 'react-router-dom'
import { Home, SignUp, Login, Me } from './pages/index'
import { Navbar } from './components/index'
import "./pages/style.css"
import AuthProvider from './user'
import { AuthContext } from './user'
import { useContext, useEffect } from 'react'

function App() {

	const auth = useContext(AuthContext);

	useEffect(() => {
		console.log("Loaded");
		auth.setUser({
			id: "meow",
			username: "ok"
		})
	}, [])


	return (
		<BrowserRouter>
			<AuthProvider>
				<Navbar />
				<main>
					<Routes>
						<Route path="/" element={<Home />} />
						<Route path="/signup" element={<SignUp />} />
						<Route path="/login" element={<Login />} />
						<Route path="/me" element={<Me />} />
					</Routes>
				</main>
			</AuthProvider>
		</BrowserRouter>
	)
}

export default App
